@model Medlebox.Models.Song

@Html.HiddenFor(m=>m.Gid)

<div class="control-group">
			<label class="control-label">Исполнитель</label>
			<div class="controls">@Html.TextBoxFor(model => model.Artist, new { @class = "span5" })
               @* <ul class="typeahead dropdown-menu" style="top: 100px; left: 263px; display: block;">
                    <li data-value="2" class=""><a href="#">Alex</a></li>
                    <li data-value="3" class=""><a href="#">Terry</a></li>
                </ul>*@
                  @Html.ValidationMessageFor(model => model.Artist)</div>
		</div>
<div class="control-group">
			<label class="control-label">Название</label>
			<div class="controls">@Html.TextBoxFor(model => model.Title, new { @class = "span5" })  @Html.ValidationMessageFor(model => model.Title)</div>
		</div>


<script type="text/javascript">
    $('#Artist').typeahead({
     ajax: {
            url: '/api/songsAPI/getallartists',
            triggerLength: 1,
            preDispatch: function (query) {
                return {
                    q: query
                }
            }
    }
    });

        $('#Title').typeahead({
            ajax: {
                url: '/api/songsAPI/getallsongsbyartists',
                triggerLength: 1,
                preDispatch: function (query) {
                    return {
                        Artist: $('#Artist').val(),
                        q: query
                    }
                }
            }
        });
  

     
</script>